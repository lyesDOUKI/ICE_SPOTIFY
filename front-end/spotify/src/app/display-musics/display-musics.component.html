<div *ngIf="currentPlayingMusic" class="current-playing-music">
  Musique en cours de lecture : {{ currentPlayingMusic }}
</div>
<div class="music-item" *ngFor="let music of musicList; let i = index">
  <div class="left-content">
    <div class="title">{{ music }}</div>
    <div class="artist">{{ music }}</div>
  </div>
  <div class="play-container">
    <div>
    <!-- Utilisez une condition pour afficher le bouton de lecture ou de pause en fonction de l'état -->
    <button class="play-btn" (click)="togglePlayPause(music, i)">
      <div *ngIf="isLoading && selectedMusicIndex === i" class="spinner-border text-primary" role="status">
        <span class="visually-hidden">Loading...</span>
      </div>
      <div *ngIf="!isLoading">
        <ng-container *ngIf="selectedMusicIndex === i && isMusicPlaying
                              && music === currentPlayingMusic">
        <!-- Si la musique est en cours de lecture -->
        &#10073;&#10073;
      </ng-container>
      <ng-container *ngIf="selectedMusicIndex === i && !isMusicPlaying">
        <!-- Si la musique est en pause -->
        &#9658;
      </ng-container>
      <ng-container *ngIf="selectedMusicIndex === i &&
                 isMusicPlaying && music !== currentPlayingMusic">
        <!-- Si la musique est en pause -->
        &#9658;
      </ng-container>
      <ng-container *ngIf="selectedMusicIndex !== i">
        <!-- Si une autre musique est sélectionnée -->
        &#9658;
      </ng-container>
      </div>

    </button>

  </div>
    <div class="time" *ngIf="selectedMusicIndex === i &&
                      isMusicPlaying && music === currentPlayingMusic">{{ currentTime }}</div>
    <div class="time" *ngIf="selectedMusicIndex === i &&
    !isMusicPlaying && music === currentPlayingMusic">{{ currentTime }}</div>
    <div class="time" *ngIf="selectedMusicIndex !== i">0:00</div>
    <div class="time" *ngIf="selectedMusicIndex === i
                      && isMusicPlaying && currentPlayingMusic !== music">0:00</div>
  </div>
  <div class="volume-container">
    <input type="range" min="0" max="1" step="0.01" [(ngModel)]="volumeList[i]" (input)="setVolume(i)"
    [disabled]="selectedMusicIndex !== i"  class="volume-bar" >
  </div>
  <!-- Intégration de l'élément audio -->
  <div class="audio-container" #audioContainer>
  </div>
</div>
